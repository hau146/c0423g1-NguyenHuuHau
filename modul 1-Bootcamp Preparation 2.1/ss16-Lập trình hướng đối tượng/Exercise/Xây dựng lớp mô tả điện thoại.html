<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<table border="1" style="border-collapse: collapse" cellpadding="15">
    <tr>
        <td style="text-align: center; width: 40%">OPPO</td>
        <td style="text-align: center; width: 40%">IPHONE</td>
    </tr>
    <tr style="text-align: center">
        <td><textarea id="102"></textarea></td>
        <td><textarea id="103"></textarea></td>
    </tr>
    <tr>
        <td>
            <button onclick="tinNhanOppo.texTing()">Soạn tin nhắn</button>
        </td>
        <td>
            <button onclick="tinNhanIphone.texTing()">Soạn tin nhắn</button>
        </td>
    </tr>
    <tr>
        <td>
            <button onclick="tinNhanOppo.checkMess">Hộp Thư Đến</button>
        </td>
        <td>
            <button onclick="tinNhanIphone.checkMess">Hộp Thư Đến</button>
        </td>
    </tr>
</table>
<script>
    class Mobile {
        constructor() {
            this.pin = 100;
            this.message; //đang soạn
            this.inbox = []; //thư đến
            this.sendMess = []; //đã gửi
            this.status = true; //trạng thái
            this.numberPhone = numberPhone;
        }

        mobileOn() {
            alert('Bật Điện Thoại')
            this.status = true;
        }
        mobileOff() {
            alert('Tắt Điện Thoại')
            this.status =false
        }
        charge(){
            this.pin = 100
            alert('Pin đầy, vui lòng rút sạc!')
        }
        texTing(){
            this.message = prompt("Viết Tin Nhắn");
            let conFirm = alert("Xác nhận gửi tin nhắn")
            if(conFirm){
                let receiver = +prompt("Nhập số điện thoại");
                this.send(this.message, receiver)
            }
        }
        send(mess,receiver){
            let location = houseNumberPhone.indexOf(receiver);
            if (location !== -1){
                alert("Gửi cho số " + receiver);
                let toPhone = housePhone[location];
                toPhone.receiveMessages(mess + " từ số " + this.numberPhone);
            } else {
                alert("Không có số điện thoại này");
            }
        }
        receiveMessages(mess){
            this.inbox.push(mess)
        }
        checkMess(){
            let allMess ="";
            for (let i = 0; i < this.inbox.length ; i++) {
                allMess += this.inbox[i] + "/n"
            }
            let idScreen = "" + this.numberPhone
            document.getElementById(idScreen).value = allMess
        }
    }
    let houseNumberPhone = []
    let housePhone = []
    let tinNhanOppo = new Mobile(102);
    let tinNhanIphone = new Mobile(103);
    housePhone.push(tinNhanOppo, tinNhanIphone)
    houseNumberPhone.push(tinNhanOppo.numberPhone, tinNhanIphone.numberPhone)

</script>
</body>
</html>